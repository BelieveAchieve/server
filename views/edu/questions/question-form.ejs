<div class="form-group js-mathjax-guide-container">
  <button type="button" class="mt-1 mb-3 float-right btn btn-secondary js-mathjax-guide-toggle">
    MathJax guide
  </button>

  <div class="js-mathjax-guide d-none">
    For rendered mathematical notation, use
    <ul>
      <li><pre style="display: inline;">\[ ... \]</pre> for block math</li>
      <li><pre style="display: inline;">\( ... \)</pre> for inline math</li>
      <li><pre style="display: inline;">\frac{...}{...}</pre> for fractions</li>
      <li><pre style="display: inline;">\sqrt{...}</pre> for square root</li>
      <li><pre style="display: inline;">^</pre> for superscript</li>
      <li><pre style="display: inline;">_</pre> for superscript</li>
    </ul>
    See this
    <a
      href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference"
      target="_none"
    >MathJax tutorial</a> for more.
  </div>
</div>

<div class="form-group">
    <label for="questionText">Question text</label>
    <textarea
      name="questionText"
      class="form-control"
      required><%= question.questionText %></textarea>
</div>

<div class="form-group">
    <% if (question.image) { %>
      <img
        data-image-path="/static/question_images"
        src="/static/question_images/<%= question.image %>" />
    <% } %>
    <label for="image">Image filename</label>
    <input
      type="text"
      name="image"
      value="<%= question.image %>"
      class="form-control"
    />
</div>

<div class="form-group">
    <label for="possibleAnswers">Answer choices (at least two are required)</label>
    <% question.possibleAnswers.forEach(({txt, val}, i) => { %>
    <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <%= val %>
          </span>
        </div>
        <input
          type="hidden"
          name="possibleAnswers[][val]"
          value="<%= val %>"
        />
        <input
          type="text"
          name="possibleAnswers[][txt]"
          value="<%= txt %>"
          class="form-control"
          <%= (i < 2) ? 'required' : '' %>
        />
    </div>
    <% }) %>
</div>

<div class="form-group">
    <label for="correctAnswer">Correct Answer</label>
    <input
      type="text"
      name="correctAnswer"
      value="<%= question.correctAnswer %>"
      class="form-control"
      required
    />
</div>

<div class="form-group">
    <label for="category">Category</label>
    <input
      type="text"
      name="category"
      value="<%= question.category %>"
      class="form-control"
      required
    />
</div>

<div class="form-group">
    <label for="subcategory">Subcategory</label>
    <input
      type="text"
      name="subcategory"
      value="<%= question.subcategory %>"
      class="form-control"
      required
    />
</div>

<button type="button" class="mt-4 btn btn-primary js-save-button">Save</button>
<button type="button" class="mt-4 btn btn-secondary js-cancel-button">Cancel</button>
<span class="mt-4 mb-0 js-form-flash"></span>
